#1!/bin/sh
MODULE=$1
PREFIX=modules/${MODULE}
mkdir -p ${PREFIX}/{files,lib,manifests,templates,tests}
echo -e "class ${MODULE} {\n}" >> ${PREFIX}/manifests/init.pp
echo -e "class ${MODULE}::install {\n  \n}" >> ${PREFIX}/manifests/install.pp
echo -e "class ${MODULE}::params {\n  \n}" >> ${PREFIX}/manifests/params.pp
echo "class { '${MODULE}': }" >> ${PREFIX}/tests/init.pp
puppet parser validate ${PREFIX}/*/*.pp
puppet apply --noop ${PREFIX}/tests/init.pp
